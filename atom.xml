<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>H.Lの自习室</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="1l1.lol/"/>
  <updated>2017-06-21T18:23:10.589Z</updated>
  <id>1l1.lol/</id>
  
  <author>
    <name>Haolu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2017-06-20 NOTES</title>
    <link href="1l1.lol/2017/06/23/2017-06-20%20NOTES/"/>
    <id>1l1.lol/2017/06/23/2017-06-20 NOTES/</id>
    <published>2017-06-23T04:38:26.000Z</published>
    <updated>2017-06-21T18:23:10.589Z</updated>
    
    <content type="html"><![CDATA[<h6>vim</h6>

<p>vi编辑器是所有Unix及Linux系统下标准的编辑器，他就相当于windows系统中的记事本一样，它的强大不逊色于任何最新的文本编辑器。他是我们使用Linux系统不能缺少的工具。由于对Unix及linux系统的任何版本，vi编辑器是完全相同的，学会它后，您将在Linux的世界里畅行无阻。</p>
<p>vim 具有程序编辑的能力，可以以字体颜色辨别语法的正确性，方便程序设计；</p>
<p>因为程序简单，编辑速度相当快速。</p>
<p>vim可以当作vi的升级版本，他可以用多种颜色的方式来显示一些特殊的信息。</p>
<p>vim会依据文件扩展名或者是文件内的开头信息， 判断该文件的内容而自动的执行该程序的语法判断式，再以颜色来显示程序代码与一般信息。</p>
<p>vim里面加入了很多额外的功能，例如支持正则表达式的搜索、多文件编辑、块复制等等。 这对于我们在Linux上进行一些配置文件的修改工作时是很棒的功能。</p>
<p>安装vim<br><code>yum install -y vim-enhanced</code></p>
<p>一般模式、编辑模式、命令模式</p>
<p>一般模式：复制、删除</p>
<p>编辑模式：修改、复制、删除</p>
<h6>vim一般模式下移动光标</h6>

<p>翻屏向上 ctrl+b   pageup</p>
<p>翻屏向下 ctrl+f   pagedown</p>
<p>光标快速到行首 shift+0、shift+6</p>
<p>光标快速到行末 shift+6</p>
<p>快速到文章首行 gg</p>
<p>快速到文章尾行 shift+g</p>
<p>nG到指定行 n是数字</p>
<p></p><h6>vim一般模式下复制、剪切和粘贴</h6><br><img src="http://or87r09l5.bkt.clouddn.com/vim2.png" alt="image"><p></p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;vim&lt;/h6&gt;

&lt;p&gt;vi编辑器是所有Unix及Linux系统下标准的编辑器，他就相当于windows系统中的记事本一样，它的强大不逊色于任何最新的文本编辑器。他是我们使用Linux系统不能缺少的工具。由于对Unix及linux系统的任何版本，vi编辑器是完全相同的，
    
    </summary>
    
    
      <category term="vim" scheme="1l1.lol/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-19 NOTES</title>
    <link href="1l1.lol/2017/06/19/2017-06-19%20NOTES/"/>
    <id>1l1.lol/2017/06/19/2017-06-19 NOTES/</id>
    <published>2017-06-19T04:38:26.000Z</published>
    <updated>2017-06-21T18:14:59.723Z</updated>
    
    <content type="html"><![CDATA[<p></p><h6>LVM</h6><br>LVM逻辑卷管理，是一种将一个或多个硬盘的分区在逻辑上集合，相当于一个大硬盘来使用，当硬盘的空间不够使用的时候，可以继续将其它的硬盘的 分区加入其中，这样可以事项一种磁盘空间的动态管理，相对于普通的磁盘分区有很大的灵活性，使用普通的磁盘分区，当一个磁盘的分区空间不够使用的时候，可 能就会带来很大的麻烦。使用LVM在一定程度上就可以解决普通磁盘分区带来的问题。<p></p>
<p><img src="http://or87r09l5.bkt.clouddn.com/LVM.png" alt="image"><br>准备一个磁盘分区</p>
<p><code>fdisk /dev/sdb</code></p>
<p>n 创建三个分区 分别5G</p>
<p>t改变分区类型为8e</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[][[]root[]@Enn []~[]]$ fdisk /dev/sdc</div><div class="line"> </div><div class="line">WARNING: DOS-compatible mode is deprecated. It&apos;s strongly recommended to</div><div class="line">         switch off the mode (command &apos;c&apos;) and change display units to</div><div class="line">         sectors (command &apos;u&apos;).</div><div class="line"> </div><div class="line">Command (m for help): n</div><div class="line">Command action</div><div class="line">   e   extended</div><div class="line">   p   primary partition (1-4)</div><div class="line">p</div><div class="line">Partition number (1-4): 1</div><div class="line">First cylinder (1-2610, default 1): </div><div class="line">Using default value 1</div><div class="line">Last cylinder, +cylinders or +size&#123;K,M,G&#125; (1-2610, default 2610): +5G</div><div class="line"> </div><div class="line">Command (m for help): n</div><div class="line">Command action</div><div class="line">   e   extended</div><div class="line">   p   primary partition (1-4)</div><div class="line">p</div><div class="line">Partition number (1-4): 2</div><div class="line">First cylinder (655-2610, default 655): </div><div class="line">Using default value 655</div><div class="line">Last cylinder, +cylinders or +size&#123;K,M,G&#125; (655-2610, default 2610): +5G</div><div class="line"> </div><div class="line">Command (m for help): n</div><div class="line">Command action</div><div class="line">   e   extended</div><div class="line">   p   primary partition (1-4)</div><div class="line">p</div><div class="line">Partition number (1-4): 3</div><div class="line">First cylinder (1309-2610, default 1309): </div><div class="line">Using default value 1309</div><div class="line">Last cylinder, +cylinders or +size&#123;K,M,G&#125; (1309-2610, default 2610): +5G</div><div class="line"> </div><div class="line">Command (m for help): p</div><div class="line"> </div><div class="line">Disk /dev/sdc: 21.5 GB, 21474836480 bytes</div><div class="line">255 heads, 63 sectors/track, 2610 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x7c8e82b1</div><div class="line"> </div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdc1               1         654     5253223+  83  Linux</div><div class="line">/dev/sdc2             655        1308     5253255   83  Linux</div><div class="line">/dev/sdc3            1309        1962     5253255   83  Linux</div><div class="line"> </div><div class="line">Command (m for help): t</div><div class="line">Partition number (1-4): 1</div><div class="line">Hex code (type L to list codes): 8e            # 修改分区类型为8e，即Linux LVM类型</div><div class="line">Changed system type of partition 1 to 8e (Linux LVM)</div><div class="line"> </div><div class="line">Command (m for help): t</div><div class="line">Partition number (1-4): 2</div><div class="line">Hex code (type L to list codes): 8e</div><div class="line">Changed system type of partition 2 to 8e (Linux LVM)</div><div class="line"> </div><div class="line">Command (m for help): t</div><div class="line">Partition number (1-4): 3</div><div class="line">Hex code (type L to list codes): 8e</div><div class="line">Changed system type of partition 3 to 8e (Linux LVM)</div><div class="line"> </div><div class="line">Command (m for help): p</div><div class="line"> </div><div class="line">Disk /dev/sdc: 21.5 GB, 21474836480 bytes</div><div class="line">255 heads, 63 sectors/track, 2610 cylinders</div><div class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk identifier: 0x7c8e82b1</div><div class="line"> </div><div class="line">   Device Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdc1               1         654     5253223+  8e  Linux LVM</div><div class="line">/dev/sdc2             655        1308     5253255   8e  Linux LVM</div><div class="line">/dev/sdc3            1309        1962     5253255   8e  Linux LVM</div><div class="line"> </div><div class="line">Command (m for help): w</div><div class="line">The partition table has been altered!</div><div class="line"> </div><div class="line">Calling ioctl() to re-read partition table.</div><div class="line">Syncing disks.</div></pre></td></tr></table></figure>
<h6>创建物理卷</h6>

<p>pvcreate /dev/sbd1</p>
<p>pvcreate /dev/sbd2</p>
<p>pvcreate /dev/sbd2</p>
<p>pvdisplay 列出当年物理卷</p>
<p>pvremove /dev/sdb3 删除物理卷</p>
<p>安装LVM</p>
<p><code>yum install -y lvm</code></p>
<p>搜索安装包</p>
<p><code>yum provides &quot;/&quot;*/pvcreate&quot;</code></p>
<h6>创建卷组</h6>

<p>pvs 查看</p>
<p><code>vgcreate vg1 /dev sdb1 /dev/sdb2</code>  创建卷组</p>
<p><code>vgs</code> 查看卷组</p>
<h6>创建逻辑卷</h6>

<p><code>lvcreate -L 100M -n lv1 vg1</code>  创建一个100M的 名字为lv1 从vg1组里面划分出来</p>
<p>格式化</p>
<p><code>mkds.ext4 /dev、vg1/lv1</code> 格式化成EXT4文件格式</p>
<p><code>mount /dev/vg1/lv1 /mnt/</code> 将/vg1/lv1挂载到mnt下</p>
<h6>宽容逻辑卷</h6>

<p><code>resize -L 300M /dev/vg1/lv1</code>重新设置卷大小</p>
<p><code>e2size2fs -f /dev/vg1/lv1</code> 检查洗盘错误</p>
<p><code>resize2fs /dev/vg/1v1</code> 更新逻辑卷信息（ext4执行）</p>
<p><code>xfs_growfs /dev/vg1/lv1</code> xfd文件系统需要执行</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;/p&gt;&lt;h6&gt;LVM&lt;/h6&gt;&lt;br&gt;LVM逻辑卷管理，是一种将一个或多个硬盘的分区在逻辑上集合，相当于一个大硬盘来使用，当硬盘的空间不够使用的时候，可以继续将其它的硬盘的 分区加入其中，这样可以事项一种磁盘空间的动态管理，相对于普通的磁盘分区有很大的灵活性，使用普通的磁
    
    </summary>
    
    
      <category term="LVM" scheme="1l1.lol/tags/LVM/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-16 NOTS</title>
    <link href="1l1.lol/2017/06/16/2017-06-16%20NOTES/"/>
    <id>1l1.lol/2017/06/16/2017-06-16 NOTES/</id>
    <published>2017-06-16T04:38:26.000Z</published>
    <updated>2017-06-21T17:18:47.527Z</updated>
    
    <content type="html"><![CDATA[<h6>linux支持的文件系统</h6><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@VM_135_225_centos ~]# cat /etc/filesystems</div><div class="line">ext4</div><div class="line">ext3</div><div class="line">ext2</div><div class="line">nodev proc</div><div class="line">nodev devpts</div><div class="line">iso9660</div><div class="line">vfat</div><div class="line">hfs</div><div class="line">hfsplus</div></pre></td></tr></table></figure><br><br><h6>linux系统格式</h6>

<p>老版本ext Centos5=ext3 Centos6=ext4 Centos 7=xfs</p>
<h6>格式化磁盘</h6>

<p><code>mkfs.ext4 =mke2fs -t</code></p>
<p>-b 块大小</p>
<p>-t 分区格式</p>
<p>-m 预留空间</p>
<p>-i 多少字节一个inodes</p>
<h6>磁盘挂载</h6>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mount</div><div class="line">mount /dev/sdb /mnt/</div></pre></td></tr></table></figure>
<p>卸载命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">umount</div><div class="line">mount /dev/sdb /mnt/</div></pre></td></tr></table></figure></p>
<h6>手动添加swap分区</h6>

<p>创建虚拟磁盘文件</p>
<p>dd：用指定大小的块拷贝一个文件，并在拷贝的同时进行指定的转换。</p>
<p>/dev/zero 就是一个特殊设备，里面有源源不断的 0</p>
<p>if指定源设备</p>
<p>of指定目标设备（在这里，我们创建了一个文件，作为一个模拟的设备）</p>
<p> <code>dd if=/dev/zero of=/tmp/newdisk bs=1M count=100</code></p>
<p> 格式化磁盘文件</p>
<p> <code>mkswap</code></p>
<p>挂载swap</p>
<p><code>swapon /tmp/newdisk</code></p>
<p>卸载swap</p>
<p><code>swapoff /tmp/newdisk</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;linux支持的文件系统&lt;/h6&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/di
    
    </summary>
    
    
      <category term="磁盘分区" scheme="1l1.lol/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"/>
    
      <category term="磁盘格式化" scheme="1l1.lol/tags/%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96/"/>
    
      <category term="磁盘挂载" scheme="1l1.lol/tags/%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD/"/>
    
      <category term="手动增加swap空间" scheme="1l1.lol/tags/%E6%89%8B%E5%8A%A8%E5%A2%9E%E5%8A%A0swap%E7%A9%BA%E9%97%B4/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-15 NOTS</title>
    <link href="1l1.lol/2017/06/15/2017-06-15%20NOTES/"/>
    <id>1l1.lol/2017/06/15/2017-06-15 NOTES/</id>
    <published>2017-06-15T04:38:26.000Z</published>
    <updated>2017-06-21T16:53:37.791Z</updated>
    
    <content type="html"><![CDATA[<h6>df命令</h6>

<p>df命令用于显示磁盘分区上的可使用的磁盘空间。默认显示单位为KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p>
<p><code>df</code>查看系统磁盘设备，默认是KB为单位：</p>
<table>
<thead>
<tr>
<th>文件系统</th>
<th>1k-块</th>
<th>已用</th>
<th>可用</th>
<th>已用%</th>
<th>挂载点</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dev/sda2</td>
<td>146294492</td>
<td>28244432</td>
<td>110498708</td>
<td>21%</td>
<td>/</td>
</tr>
</tbody>
</table>
<p><code>df -h</code>以KB以上的单位来显示，可读性高：</p>
<table>
<thead>
<tr>
<th>文件系统</th>
<th>容量</th>
<th>已用</th>
<th>可用</th>
<th>已用%</th>
<th>挂载点</th>
</tr>
</thead>
<tbody>
<tr>
<td>/dev/sda2</td>
<td>140G</td>
<td>27G</td>
<td>106G</td>
<td>21%</td>
<td>/</td>
</tr>
</tbody>
</table>
<ul>
<li>加了-h后会根据磁盘大小适当的显示它的单位</li>
<li><code>df -h</code>以可读性较高的方式来显示信息</li>
</ul>
<p><code>df -m</code>指定区块大小为1048576字节</p>
<p><code>df -i</code>显示inode的信息</p>
<ul>
<li>inode是在磁盘格式化时候事先分配好的 与磁盘空间大小有关系</li>
</ul>
<p>磁盘可用单位</p>
<ul>
<li>Byte -KB-MB-GB-TB-PB</li>
</ul>
<p><code>free</code>查看swap分区大小</p>
<h6>du命令</h6>

<p>du命令也是查看使用空间的，但是与df命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的。</p>
<p> <code>du</code>显示目录或者文件所占空间：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@localhost test]# du </div><div class="line">608 ./test6 </div><div class="line">308 ./test4 </div><div class="line">4 ./scf/lib </div><div class="line">4 ./scf/service/deploy/product </div><div class="line">4 ./scf/service/deploy/info </div><div class="line">12 ./scf/service/deploy </div><div class="line">16 ./scf/service</div><div class="line">4 ./scf/doc </div><div class="line">4 ./scf/bin </div><div class="line">32 ./scf </div><div class="line">8 ./test3 </div><div class="line">1288 .</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">du -s</div><div class="line">[root@localhost test]# du -s /root</div><div class="line">92K   /root</div></pre></td></tr></table></figure>
<p></p><h6>磁盘分区</h6><p></p>
<p>fdisk命令</p>
<p>fdisk命令用于观察硬盘实体使用情况，也可对硬盘分区。它采用传统的问答式界面，而非类似DOS fdisk的cfdisk互动式操作界面，因此在使用上较为不便，但功能却丝毫不打折扣。 </p>
<p>-b&lt;分区大小&gt;：指定每个分区的大小；</p>
<p>-l：列出指定的外围设备的分区表状况；</p>
<p>-s&lt;分区编号&gt;：将指定的分区大小输出到标准输出上，单位为区块；</p>
<p>-u：搭配”-l”参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址； </p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;df命令&lt;/h6&gt;

&lt;p&gt;df命令用于显示磁盘分区上的可使用的磁盘空间。默认显示单位为KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;df&lt;/code&gt;查看系统磁盘设备，默认是KB为单位：&lt;/p&gt;
&lt;table&gt;
&lt;
    
    </summary>
    
    
      <category term="df" scheme="1l1.lol/tags/df/"/>
    
      <category term="du" scheme="1l1.lol/tags/du/"/>
    
      <category term="fdisk" scheme="1l1.lol/tags/fdisk/"/>
    
      <category term="磁盘分区" scheme="1l1.lol/tags/%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-14 NOTES</title>
    <link href="1l1.lol/2017/06/14/2017-06-14%20NOTES/"/>
    <id>1l1.lol/2017/06/14/2017-06-14 NOTES/</id>
    <published>2017-06-14T04:38:26.000Z</published>
    <updated>2017-06-15T15:23:45.190Z</updated>
    
    <content type="html"><![CDATA[<h6>su</h6>

<p>su命令用于切换当前用户身份到其他用户身份,变更时须输入所要变更的用户帐号与密码.</p>
<p>语法</p>
<p><code>su 选项 参数</code></p>
<p>选项</p>
<p>su - 彻底切换到其他用户下</p>
<p>-c 执行完指定的命令后,即恢复原来的身份</p>
<a id="more"></a>
<p>sudo</p>
<p>sudo可以为普通用户临时授权root用户的权限,用户使用sudo时，必须先输入密码,之后有5分钟的有效期限，超过期限则必须重新输入密码.</p>
<p>语法</p>
<p><code>sudo 选项 参数</code></p>
<p>选项</p>
<p>-b：在后台执行指令； </p>
<p>-h：显示帮助；</p>
<p>-H：将HOME环境变量设为新身份的HOME环境变量；</p>
<p>-k：结束密码的有效期限,也就是下次再执行sudo时便需要输入密码；</p>
<p>-l：列出目前用户可执行与无法执行的指令；</p>
<p>-p：改变询问密码的提示符号；</p>
<p>-s：执行指定的shell； -u&lt;用户&gt;：以指定的用户作为新的身份.若不加上此参数，则预设以root作为新的身份；</p>
<p>-v：延长密码有效期限5分钟；</p>
<p>sudo配置</p>
<p><code>visudo</code>此文件为sudo配置文件</p>
<p>文件路径/etc/sudo，不要使用vi打开</p>
<p><code>## Allo root to run any commands anywhere</code></p>
<p>允许ROOT用户允许所有程序命令</p>
<p><code>root    ALL=(ALL)       /usr/bin/ls, /usr/bin/mv</code></p>
<p>指定用户拥有特定用户以root权限执行<code>ls mv 命令</code></p>
<p><code>test    ALL=(ALL)       NOPASSSWD：/usr/bin/ls，/usr/bin/mv</code></p>
<p>以root权限执行特定命令 且不输入密码</p>
<p>以上为sudo的核心文件配置</p>
<h6>限制ROOT远程登录</h6>

<ul>
<li>方法1</li>
</ul>
<p>切换到root用户，运行visudo命令</p>
<p>在打开的配置文件中，找到<code>root ALL=(ALL) ALL</code>，在下面添加一行</p>
<p><code>xxx ALL=(ALL) ALL 其中xxx为要加入的用户名称</code></p>
<p> 切换到root用户，运行visudo命令</p>
<ul>
<li>方法2</li>
</ul>
<p>编辑 <code>/etc/ssh/sshd_config</code></p>
<p>修改<code>PermitRootLogin1</code>将<code>yes</code>改为<code>no</code></p>
<p>重启ssh服务</p>
<p><code>systemctl restart service sshd.service</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;su&lt;/h6&gt;

&lt;p&gt;su命令用于切换当前用户身份到其他用户身份,变更时须输入所要变更的用户帐号与密码.&lt;/p&gt;
&lt;p&gt;语法&lt;/p&gt;
&lt;p&gt;&lt;code&gt;su 选项 参数&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;选项&lt;/p&gt;
&lt;p&gt;su - 彻底切换到其他用户下&lt;/p&gt;
&lt;p&gt;-c 执行完指定的命令后,即恢复原来的身份&lt;/p&gt;
    
    </summary>
    
    
      <category term="su" scheme="1l1.lol/tags/su/"/>
    
      <category term="sudo" scheme="1l1.lol/tags/sudo/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-13 NOTES</title>
    <link href="1l1.lol/2017/06/14/2017-06-13%20NOTES/"/>
    <id>1l1.lol/2017/06/14/2017-06-13 NOTES/</id>
    <published>2017-06-13T16:38:26.000Z</published>
    <updated>2017-06-13T16:54:43.227Z</updated>
    
    <content type="html"><![CDATA[<h6>usermod命令</h6>

<blockquote>
<p>语法</p>
<p><code>usermod -u</code> 改uid</p>
<p><code>usermod -g</code> 改用户组</p>
<p><code>usermod -G</code> 扩展组</p>
<p><code>usermod -d</code> 改用户家目录</p>
<p><code>usermod -s</code> 改用户shell</p>
</blockquote>
<a id="more"></a>
<h6>用户密码管理</h6>

<p>语法</p>
<p><code>passwd</code> root用户更改密码</p>
<p><code>passwd 用户名</code> 普通用户更改密码</p>
<p><code>passwd -l 用户名</code> 锁定用户</p>
<p><code>passwd -u 用户名</code> 解锁用户</p>
<p><code>asermod -L 用户名</code> 锁定用户</p>
<p><code>asermod -U 用户名</code> 解锁用户</p>
<p><code>passwd --stdin 用户名</code> 给特定用户更改密码</p>
<p><code>echo “密码” |passwd --stdin 用户名</code> 脚本更改特定用户密码</p>
<p><code>echo  -e “密码”\n密码” |passwd 用户名</code> 可以在一行命令里面出现换行符</p>
<div class="tip"><br><br>设定密码长度 最好超10位 包括大小写 数字 特殊字符 没有规律性<br><br></div>

<h6>mkpasswd工具</h6>

<p>mkpasswd可以生成密码工具</p>
<p>首先需要安装工具</p>
<p><code>yum install -y expect</code></p>
<p>语法</p>
<p><code>mkpasswd</code> 默认生成一个9位密码</p>
<p><code>mkpasswd</code> -l 12 生成一个12位密码</p>
<p><code>mkpasswd -l 12 -s 3</code> 生成一个12位密码 包括3个特殊符号</p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;usermod命令&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;语法&lt;/p&gt;
&lt;p&gt;&lt;code&gt;usermod -u&lt;/code&gt; 改uid&lt;/p&gt;
&lt;p&gt;&lt;code&gt;usermod -g&lt;/code&gt; 改用户组&lt;/p&gt;
&lt;p&gt;&lt;code&gt;usermod -G&lt;/code&gt; 扩展组&lt;/p&gt;
&lt;p&gt;&lt;code&gt;usermod -d&lt;/code&gt; 改用户家目录&lt;/p&gt;
&lt;p&gt;&lt;code&gt;usermod -s&lt;/code&gt; 改用户shell&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="usermod" scheme="1l1.lol/tags/usermod/"/>
    
      <category term="passwd" scheme="1l1.lol/tags/passwd/"/>
    
      <category term="mkpasswd" scheme="1l1.lol/tags/mkpasswd/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-12 NOTES</title>
    <link href="1l1.lol/2017/06/12/2017-06-12%20NOTES/"/>
    <id>1l1.lol/2017/06/12/2017-06-12 NOTES/</id>
    <published>2017-06-12T09:38:26.000Z</published>
    <updated>2017-06-13T17:11:48.935Z</updated>
    
    <content type="html"><![CDATA[<h6>用户、用户组管理</h6>

<blockquote>
<p>Linux 下与用户管理相关的配置文件属于系统配置文件，在目录/etc 下,可通过 man 命令查看配置文件帮助信息, 命令格式为:  man 5配置文件名称,配置文件名称为简单名称,而非绝对路径名称．</p>
<p>linux 用户管理涉及的配置文件有</p>
<p>用户信息文件：<code>/etc/passwd</code></p>
<p>密码文件：<code>/etc/shadow</code></p>
<p>用户组文件：<code>/etc/group</code></p>
<p>用户组密码文件：<code>/etc/gshadow</code></p>
<p>用户配置文件：<code>/etc/login.defs</code><br><code>etc/default/useradd</code></p>
<p>新用户信息文件：<code>/etc/skel</code></p>
<p>登录信息：<code>/etc/motd</code></p>
</blockquote>
<a id="more"></a>
<p>我们先看一下用户信息文件里都放的什么</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# cat /etc/passwd</div><div class="line"></div><div class="line">root:x:0:0:root:/root:/bin/bash</div><div class="line"></div><div class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</div><div class="line"></div><div class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</div><div class="line"></div><div class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</div><div class="line"></div><div class="line">sync:x:5:0:sync:/sbin:/bin/sync</div><div class="line"></div><div class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</div><div class="line"></div><div class="line">halt:x:7:0:halt:/sbin:/sbin/halt</div><div class="line"></div><div class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</div><div class="line"></div><div class="line">news:x:9:13:news:/etc/news:/sbin/nologin</div></pre></td></tr></table></figure>
<p>标签：<br>Linux 用户管理—-用户信息与密码的配置文件详解， 密码,用户,配置…</p>
<p>每一行内容存放一个用户的信息，每个用户信息有7部分组成</p>
<p><code>root:x:0:0:root:/root:/bin/bash</code></p>
<table>
<thead>
<tr>
<th style="text-align:center">root</th>
<th style="text-align:center">用户名</th>
<th style="text-align:center">用户登录系统时使用的用户名</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">密码</td>
<td style="text-align:center">密码位</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">UID</td>
<td style="text-align:center">用户标识号</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">GID</td>
<td style="text-align:center">缺省组标识</td>
</tr>
<tr>
<td style="text-align:center">root</td>
<td style="text-align:center">注释性描述</td>
<td style="text-align:center">例如存放用户全名等信息</td>
</tr>
<tr>
<td style="text-align:center">/root</td>
<td style="text-align:center">宿主目录</td>
<td style="text-align:center">用户登录系统后的缺省目录</td>
</tr>
<tr>
<td style="text-align:center">bash/bin/</td>
<td style="text-align:center">命令解释器</td>
<td style="text-align:center">用户使用的Shell ,默认为bash</td>
</tr>
</tbody>
</table>
<p>UID<br>关于上面的UID这里细说一下，其实决定用户是什么权限，是由UID号决定的。</p>
<p>linux用户分为三种：</p>
<p>标签：<br>Linux 用户管理—-用户信息与密码的配置文件详解， 密码,用户,配置</p>
<table>
<thead>
<tr>
<th style="text-align:center">超级用户</th>
<th style="text-align:center">Root    UID=0</th>
<th style="text-align:center">0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">普通用户</td>
<td style="text-align:center">UID 500~60000</td>
<td style="text-align:center">500~60000</td>
</tr>
<tr>
<td style="text-align:center">伪用户</td>
<td style="text-align:center">UID  1~499</td>
<td style="text-align:center">1~499</td>
</tr>
</tbody>
</table>
<h6>用户组管理</h6>

<p>创建用户的同时会创建一个和用户名同样的组</p>
<p>增加用户组</p>
<p><code>groupadd  test</code></p>
<p>删除用户组 （用户组内用户必须为空）</p>
<p><code>groupdel test</code></p>
<p>增加用户</p>
<p><code>useradd test</code></p>
<p>删除用户</p>
<p><code>userdel use1</code></p>
<h6>windows与linux文件互传</h6>

<p>lrzsz是一个unix通信套件提供的X,Y,和ZModem文件传输协议可代替ftp上传和下载.需要注意的事这个命令无法在putty界面使用.</p>
<p></p><h6>首先安装lrzsz</h6><br><code>yum -y install lrzsz</code><p></p>
<p>上传文件，执行命令rz，会跳出文件选择窗口，选择好文件，点击确认即可。<br><code>rz</code></p>
<p>下载文件，执行命令sz<br><code>sz</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;用户、用户组管理&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;Linux 下与用户管理相关的配置文件属于系统配置文件，在目录/etc 下,可通过 man 命令查看配置文件帮助信息, 命令格式为:  man 5配置文件名称,配置文件名称为简单名称,而非绝对路径名称．&lt;/p&gt;
&lt;p&gt;linux 用户管理涉及的配置文件有&lt;/p&gt;
&lt;p&gt;用户信息文件：&lt;code&gt;/etc/passwd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;密码文件：&lt;code&gt;/etc/shadow&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;用户组文件：&lt;code&gt;/etc/group&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;用户组密码文件：&lt;code&gt;/etc/gshadow&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;用户配置文件：&lt;code&gt;/etc/login.defs&lt;/code&gt;&lt;br&gt;&lt;code&gt;etc/default/useradd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;新用户信息文件：&lt;code&gt;/etc/skel&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;登录信息：&lt;code&gt;/etc/motd&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="groupadd" scheme="1l1.lol/tags/groupadd/"/>
    
      <category term="useradd" scheme="1l1.lol/tags/useradd/"/>
    
      <category term="文件互传" scheme="1l1.lol/tags/%E6%96%87%E4%BB%B6%E4%BA%92%E4%BC%A0/"/>
    
      <category term="用户、用户组管理" scheme="1l1.lol/tags/%E7%94%A8%E6%88%B7%E3%80%81%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-11 NOTES</title>
    <link href="1l1.lol/2017/06/12/2017-06-11%20NOTES/"/>
    <id>1l1.lol/2017/06/12/2017-06-11 NOTES/</id>
    <published>2017-06-11T19:38:26.000Z</published>
    <updated>2017-06-13T17:11:49.169Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><code>find</code>用来在指定目录下查找文件</p>
<p><code>which</code>用于查找并显示给定命令的绝对路径,环境变量PATH中保存了查找命令时需要遍历的目录</p>
<p><code>whereis</code> 用来定位指令的二进制程序,源代码文件和man手册页等相关文件的路径</p>
<p><code>locate</code> 需要安装（yum install -y mlocate）与whereis类似也需要有同样的数据库才可以搜索每晚24点自动更新</p>
</blockquote>
<a id="more"></a>
<p>语法</p>
<p><code>find(选项)(参数)</code></p>
<p>列出当前目录及子目录下所有文件和文件夹</p>
<p><code>find .</code></p>
<p>在/home目录下查找以.txt结尾的文件名</p>
<p><code>find /home -name &quot;*.txt&quot;</code></p>
<p>同上，但忽略大小写</p>
<p><code>find /home -iname &quot;*.txt</code></p>
<p>根据文件类型进行搜索</p>
<p><code>find . -type 类型参数</code></p>
<p>类型参数列表： </p>
<ul>
<li><p>f 普通文件</p>
</li>
<li><p>l 符号连接 </p>
</li>
<li><p>d 目录 </p>
</li>
<li><p>c 字符设备</p>
</li>
<li><p>b 块设备 </p>
</li>
<li><p>s 套接字 </p>
</li>
<li><p>p Fifo</p>
</li>
</ul>
<p>根据文件时间戳进行搜索 </p>
<p><code>find . -type f 时间戳</code></p>
<p>UNIX/Linux文件系统每个文件都有三种时间戳：</p>
<ul>
<li><p>访问时间（-atime/天，-amin/分钟）：用户最近一次访问时间</p>
</li>
<li><p>修改时间（-mtime/天，-mmin/分钟）：文件最后一次修改时间</p>
</li>
<li><p>变化时间（-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;find&lt;/code&gt;用来在指定目录下查找文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;which&lt;/code&gt;用于查找并显示给定命令的绝对路径,环境变量PATH中保存了查找命令时需要遍历的目录&lt;/p&gt;
&lt;p&gt;&lt;code&gt;whereis&lt;/code&gt; 用来定位指令的二进制程序,源代码文件和man手册页等相关文件的路径&lt;/p&gt;
&lt;p&gt;&lt;code&gt;locate&lt;/code&gt; 需要安装（yum install -y mlocate）与whereis类似也需要有同样的数据库才可以搜索每晚24点自动更新&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="find" scheme="1l1.lol/tags/find/"/>
    
      <category term="which" scheme="1l1.lol/tags/which/"/>
    
      <category term="whereis" scheme="1l1.lol/tags/whereis/"/>
    
      <category term="locate" scheme="1l1.lol/tags/locate/"/>
    
      <category term="search" scheme="1l1.lol/tags/search/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-09 NOTS</title>
    <link href="1l1.lol/2017/06/09/2017-06-09%20NOTES/"/>
    <id>1l1.lol/2017/06/09/2017-06-09 NOTES/</id>
    <published>2017-06-09T04:38:26.000Z</published>
    <updated>2017-06-13T17:20:23.818Z</updated>
    
    <content type="html"><![CDATA[<h6>set_uid</h6>

<blockquote>
<p>当普通用户需要更改密码,但是密码文件<code>/usr/bin/passwd</code>文件权限又是000,所以便有了s权限,passwd这个文件拥有set_uid权限,当普通用户执行带sit_uid权限的命令时候遍拥有了root用户的权限.<br><a id="more"></a></p>
</blockquote>
<p><code>[][[]root[]@Enn []~[]]$ which passwd</code></p>
<p><code>/usr/bin/passwd</code> </p>
<p><code>[][[]root[]@Enn []~[]]$ ls -l</code></p>
<p><code>/usr/bin/paspasswd</code> </p>
<p><code>[[]root[]@Enn []~[]]$ ls -l</code></p>
<p><code>/usr/bin/passwd</code></p>
<p><code>-rwsr-xr-x 1 root root 25980 Nov 24  2015 /usr/bin/passwd</code></p>
<p>s权限便是set_uid权限</p>
<p><code>[][[]root[]@Enn []~[]]$ ls</code></p>
<p><code>/etc/shadow</code></p>
<p><code>/etc/shadow</code> </p>
<p>shadow为密码文件</p>
<p><code>[][[]root[]@Enn []~[]]$ ls -l !$</code></p>
<p><code>ls -l /etc/shadow</code></p>
<p><code>---------- 1 root root 630 May 24 15:25 /etc/shadow</code></p>
<p>更改set-uid权限</p>
<p><code>chmod u=rws /usr/bin/ls</code><br><code>-rwSr-xr-x 1 root root 25980 Nov 24  2015 /usr/bin/ls</code></p>
<p>这时候权限变成了S权限 因为没有x权限</p>
<p><code>chmod u+s /urs/bin/ls</code><br><code>-rwsr-xr-x 1 root root 25980 Nov 24  2015 /usr/bin/ls</code></p>
<p>这个便有了小s权限 区别和大s一样</p>
<div class="tip"><br><br><p>必须是二进制文件</p><br><br>必须是可执行文件<br><br>其他非root其他用户执行带set_uid命令时临时拥有root用户的身份<br></div>


<h6>set_gid</h6>

<blockquote>
<p>可以作用在文件和目录上,如果作用在文件上与set_uid作用类似,可以让执行这个文件的普通用户临时拥有所属组的身份,当作用在目录时设置set_gid后创建子目录以及文件的所属组会继承父目录保持一致。</p>
</blockquote>
<p><code>[][[]root[]@Enn []~[]]# chmod  u=rwx /usr/bin/ls</code></p>
<p><code>[][[]root[]@Enn []~[]]# chmod g+s /usr/bin/ls</code></p>
<p><code>[][[]root[]@Enn []~[]]# ls -l /usr/bin/ls</code></p>
<p><code>-rwxr-sr-x. 1 root root 25980 Nov 24  2015 /usr/bin/ls</code></p>
<div class="tip"><br><br><p>不同的是set_gid是作用在组上,使普通用户临时拥有所属组的身份以及权限</p><br><br>不用于更换了角色<br><br>set_gid用户拥有所有组的权限<br><br></div>

<h6>set_bit</h6>

<blockquote>
<p>stick_bit任何人对目录可写,但是别人无法删除文件所有者的文件,防止别人删除,如果删除的文件的目录有写入权限,则可以删除.</p>
</blockquote>
<p><code>[][[]root[]@Enn []~[]]$ ls -ld /tmp/</code></p>
<p><code>drwxrwxrwt. 3 root root 4096 Jun 12 03:07 /tmp/</code></p>
<div class="tip"><br><br><p>非root用户无法删除</p><br><br></div>

<h6>软链接</h6><br>&gt;软链接可以看作是Windows中的快捷方式,可以让你快速链接到目标档案或目录.软链接建立一个独立的文件,而这个文件会让数据的读取指向它link的那个档案的档名,由于只是作为指向的动作,所以当来源档案被删除之后,软连接的档案无法开启,因为找不到原始档名.连结档的内容只有档名,根据档名链接到正确的目录进一步取得目标档案的inode,最终就能够读取到正确的数据.如果目标档案的原始档名被删除了那么整个环节就进行不下去了.<br><br>创建软链接<br><br><code>ln -s /文件&amp;目录</code><br><div class="tip"><br><br><p>以路径的形式存在。类似于Windows操作系统中的快捷方式</p><br><br>软链接可以 跨文件系统 ，硬链接不可以<br><br>软链接可以对一个不存在的文件名进行链接<br><br>软链接可以对目录进行链接<br></div><br><br><h6>硬链接</h6>

<p>硬链接不支持对目录做硬链接,只对文件有支持.硬链接是复制了源文件两个互为硬链接.</p>
<p>创建软链接<br><code>ln 111.txt 222.txt</code></p>
<div class="tip"><br><p>硬链接，以文件副本的形式存在。但不占用实际空间</p><br><br>不允许给目录创建硬链接<br><br>硬链接只有在同一个文件系统中才能创建<br></div>]]></content>
    
    <summary type="html">
    
      &lt;h6&gt;set_uid&lt;/h6&gt;

&lt;blockquote&gt;
&lt;p&gt;当普通用户需要更改密码,但是密码文件&lt;code&gt;/usr/bin/passwd&lt;/code&gt;文件权限又是000,所以便有了s权限,passwd这个文件拥有set_uid权限,当普通用户执行带sit_uid权限的命令时候遍拥有了root用户的权限.&lt;br&gt;
    
    </summary>
    
    
      <category term="set_uid" scheme="1l1.lol/tags/set-uid/"/>
    
      <category term="set_gid" scheme="1l1.lol/tags/set-gid/"/>
    
      <category term="set_bit" scheme="1l1.lol/tags/set-bit/"/>
    
      <category term="软链接" scheme="1l1.lol/tags/%E8%BD%AF%E9%93%BE%E6%8E%A5/"/>
    
      <category term="硬链接" scheme="1l1.lol/tags/%E7%A1%AC%E9%93%BE%E6%8E%A5/"/>
    
  </entry>
  
  <entry>
    <title>2017-06-02 NOTES</title>
    <link href="1l1.lol/2017/06/02/2017-06-02%20NOTES/"/>
    <id>1l1.lol/2017/06/02/2017-06-02 NOTES/</id>
    <published>2017-06-02T06:49:13.000Z</published>
    <updated>2017-06-13T17:17:10.480Z</updated>
    
    <content type="html"><![CDATA[<h2>VMware快照</h2><br>首先进入VMware 选择对应的主机 点击右键 选择快照<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E5%BF%AB%E7%85%A7.png" alt=""><br>点击快照-拍摄快照<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E5%BF%AB%E7%85%A71.png" alt=""><br><h2>putty</h2>

<p>查看远程主机的IP 在putty输入对应的IP<br><img src="http://oqlwx55ng.bkt.clouddn.com/putty1.png" alt=""></p>
<p>因为putty默认窗口大小为80列 修改为2000 这样可以查看更到更多的命令行数<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E8%A1%8C%E6%95%B0.png" alt=""></p>
<p>选择窗口-外观-字体设置-修改设置 这里可以修改字体与字号<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E5%AD%97%E4%BD%93.png" alt=""></p>
<p>选择窗口-转换-这里可以需要讲字符集修改为UTF-8<br> <img src="http://oqlwx55ng.bkt.clouddn.com/UTF8.png" alt=""></p>
<h3>SSH登录时的两种认证方式</h3>

<p>putty密钥认证</p>
<p>打开puttygen 点击生成  生成完毕后 最好给密钥加密<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E7%94%9F%E6%88%90.png" alt=""><br>以下则为putty生成的公匙<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E5%85%AC%E9%92%A5.png" alt=""><br>对密匙进行加密后点击保存私钥 最好保存在一个比较隐秘的地方<br>生成完后需要进入远程主机<br><img src="http://oqlwx55ng.bkt.clouddn.com/%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81.png" alt=""><br>首先创建一个目录（此目录文件名称为固定 ）<br><code>mkdir /root/.ssh</code><br>为目录赋予权限<br><code>chmod 700 /root/.ssh</code><br><img src="http://oqlwx55ng.bkt.clouddn.com/%E6%9D%83%E9%99%90.png" alt=""><br>编辑<code>.ssh</code>文件将刚才生成的公钥添加进去<br><code>vi /root.ssh/authorized_keys</code><br><img src="http://oqlwx55ng.bkt.clouddn.com/%E6%B7%BB%E5%8A%A0%E5%AF%86%E5%8C%99.png" alt=""><br>完成后退出</p>
<p>关闭<code>selinux</code>防火墙<br><code>setenforce 0</code><br>或者进入<br><code>/etc/selinux/config</code>修改<code>enlinux</code>选项为<code>disabled</code>格式为<code>enlinux=disabled</code><br><img src="http://oqlwx55ng.bkt.clouddn.com/%E9%98%B2%E7%81%AB%E5%A2%99.png" alt=""></p>
<p> 登录<br> <img src="http://oqlwx55ng.bkt.clouddn.com/%E7%99%BB%E5%BD%95.png" alt=""></p>
<p>root用户私钥存放地址<br><code>/root/.ssh/authorized_keys</code><br>一般用户私钥存放地址<br><code>/home/****/.ssh/authorized_keys</code><br>权限：目录700  文件600<br>SSH是可以放在其他目录 需要修改SSH配置文件</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2&gt;VMware快照&lt;/h2&gt;&lt;br&gt;首先进入VMware 选择对应的主机 点击右键 选择快照&lt;br&gt;&lt;img src=&quot;http://oqlwx55ng.bkt.clouddn.com/%E5%BF%AB%E7%85%A7.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;点击快照-拍摄快照
    
    </summary>
    
    
      <category term="Linux" scheme="1l1.lol/tags/Linux/"/>
    
      <category term="VMeare" scheme="1l1.lol/tags/VMeare/"/>
    
      <category term="Putty" scheme="1l1.lol/tags/Putty/"/>
    
  </entry>
  
  <entry>
    <title>Linux修改终端颜色</title>
    <link href="1l1.lol/2017/05/08/%E4%BF%AE%E6%94%B9%E7%BB%88%E7%AB%AF%E9%A2%9C%E8%89%B2/"/>
    <id>1l1.lol/2017/05/08/修改终端颜色/</id>
    <published>2017-05-08T09:39:08.000Z</published>
    <updated>2017-06-11T20:12:24.450Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>要修改linux终端命令行颜色，我们需要用到PS1，PS1是Linux终端用户的一个环境变量，用来说明命令行提示符的设置。<br>在终端输入命令：<code>#set</code>即可在输出中找到关于PS1的定义如下：</p>
</blockquote>
<a id="more"></a>
<p><code> PS1=’[\u@\h \W]\$ ‘<br>　　PS1的定义中个常用的参数的含义如下：　　<br>　　\d ：#代表日期，格式为weekday month date<br>　　例如：”Mon Aug 1”<br>　　\H ：#完整的主机名称<br>　　\h ：#仅取主机的第一个名字<br>　　\t ：#显示时间为24小时格式，如：HH：MM：SS<br>　　\T ：#显示时间为12小时格式<br>　　\A ：#显示时间为24小时格式：HH：MM<br>　　\u ：#当前用户的账号名称<br>　　\v ：#BASH的版本信息<br>　　\w ：#完整的工作目录名称<br>　　\W ：#利用basename取得工作目录名称，所以只会列出最后一个目录<br>　　# ：#下达的第几个命令<br>　　\$ ：#提示字符，如果是root时，提示符为：# ，普通用户则为：$</code><br>　<br>修改.bashrc文件<br>　　通过上面的设置只能改变当前终端的命令行格式，关闭这个终端，在重新打开的一个终端中命令行格式又会恢复到默认的形式。想要永久性的改变终端命令行格式，需要修改.bashrc文件。<br>　　<br>　　使用命令：<br>　　<code>cd /</code><br>　　<br>　　<code>ls -l -a</code><br>　　<br>　　就能看到.bashrc这个文件。<br>　　　　<br>　　使用命令<br>　　<code>#vim .bashrc</code><br>　　<br>　　在.bashrc文件中加入<br>　　<br>　　<code>PS1=”[\e[33;40m][[\e[32;40m]\u[\e[33;40m]@\h [\e[35;40m]\W[\e[0m]]\$ “</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;要修改linux终端命令行颜色，我们需要用到PS1，PS1是Linux终端用户的一个环境变量，用来说明命令行提示符的设置。&lt;br&gt;在终端输入命令：&lt;code&gt;#set&lt;/code&gt;即可在输出中找到关于PS1的定义如下：&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="1l1.lol/tags/Linux/"/>
    
      <category term="Terminal" scheme="1l1.lol/tags/Terminal/"/>
    
  </entry>
  
  <entry>
    <title>MAC地址修改</title>
    <link href="1l1.lol/2017/05/01/MAC%E5%9C%B0%E5%9D%80%E4%BF%AE%E6%94%B9/"/>
    <id>1l1.lol/2017/05/01/MAC地址修改/</id>
    <published>2017-05-01T04:38:26.000Z</published>
    <updated>2017-06-11T20:12:24.545Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>终端方式:</p>
<p><code>openssl rand -hex 6 | sed ‘s/(..)/\1:/g; s/.$//‘</code></p>
<p>运行这个生成一个新的Mac网卡地址</p>
<p>然后执行</p>
<p><code>sudo /System/Library/PrivateFrameworks/Apple80211.framework/Resources/airport -z</code><br><a id="more"></a></p>
</blockquote>
<p>断开Airport无线网卡连接.</p>
<p> <code>sudo ifconfig en0 ether d4:33:a3:ed:f2:12</code></p>
<p>输入修改mac地址的命令</p>
<p><code>networksetup -detectnewhardware&lt;/code</code></p>
<p>然后重连网卡即可.</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;终端方式:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;openssl rand -hex 6 | sed ‘s/(..)/\1:/g; s/.$//‘&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;运行这个生成一个新的Mac网卡地址&lt;/p&gt;
&lt;p&gt;然后执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo /System/Library/PrivateFrameworks/Apple80211.framework/Resources/airport -z&lt;/code&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="linux" scheme="1l1.lol/tags/linux/"/>
    
      <category term="Mac" scheme="1l1.lol/tags/Mac/"/>
    
  </entry>
  
</feed>
